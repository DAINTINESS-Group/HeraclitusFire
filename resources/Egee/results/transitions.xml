<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<transitions>
    <transition oldVersion="rev_1.01.sql" newVersion="rev_1.02.sql">
        <insertion type="UpdateTable">
            <table>
                <name>t_channel</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>channel_name</name>
                <type>VARCHAR(32)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>last_active</name>
                <type>DATE</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <deletion type="UpdateTable">
            <table>
                <name>t_channel</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>name</name>
                <type>VARCHAR(255)</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
        <insertion type="UpdateTable">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>transfer_time</name>
                <type>DATE</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="UpdateTable">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>agent_dn</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>channel_name</name>
                <type>VARCHAR(32)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>submit_time</name>
                <type>DATE</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="rev_1.02.sql" newVersion="rev_1.03.sql">
        <update type="TypeChange">
            <table>
                <name>t_channel</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>last_active</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <insertion type="UpdateTable">
            <table>
                <name>t_channel</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>nominal_throughput</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>nostreams</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="UpdateTable">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>bytes_written</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>checksum</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>filesize</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <update type="TypeChange">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>duration</name>
                <type>FLOAT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>transfer_time</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <deletion type="UpdateTable">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>file_params</name>
                <type>VARCHAR(250)</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
        <update type="TypeChange">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>submit_time</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <insertion type="UpdateTable">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>voms_cred</name>
                <type>BLOB</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <deletion type="DeleteTable">
            <table>
                <name>t_job_log</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>dn</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>file_id</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>file_state</name>
                <type>VARCHAR(9)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>job_id</name>
                <type>CHAR(36)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>job_state</name>
                <type>VARCHAR(9)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>timestamp</name>
                <type>DATE</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
        <deletion type="DeleteTable">
            <table>
                <name>t_logical</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>destination</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>file_id</name>
                <type>INTEGER</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>job_id</name>
                <type>CHAR(36)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>source</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
    </transition>
    <transition oldVersion="rev_1.03.sql" newVersion="rev_1.04.sql">
        <insertion type="UpdateTable">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>file_params</name>
                <type>VARCHAR(255)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="rev_1.04.sql" newVersion="rev_1.05.sql">
        <insertion type="UpdateTable">
            <table>
                <name>t_channel</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>nofiles</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <update type="TypeChange">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>bytes_written</name>
                <type>BIGINT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>filesize</name>
                <type>BIGINT</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <insertion type="UpdateTable">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>num_retries</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>reason_class</name>
                <type>VARCHAR(32)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="rev_1.05.sql" newVersion="rev_1.06.sql">
        <update type="TypeChange">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>job_state</name>
                <type>VARCHAR(13)</type>
                <isKey>false</isKey>
            </attribute>
        </update>
    </transition>
    <transition oldVersion="rev_1.06.sql" newVersion="rev_1.07.sql">
        <insertion type="UpdateTable">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>dest_se</name>
                <type>VARCHAR(250)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>source_se</name>
                <type>VARCHAR(250)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="rev_1.07.sql" newVersion="rev_1.08.sql">
        <insertion type="UpdateTable">
            <table>
                <name>t_channel</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>channel_state</name>
                <type>VARCHAR(30)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>dest_site</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>source_site</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <deletion type="UpdateTable">
            <table>
                <name>t_channel</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>domain_a</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>domain_b</name>
                <type>VARCHAR(100)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>state</name>
                <type>VARCHAR(30)</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
        <insertion type="NewTable">
            <table>
                <name>t_channel_acl</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>channel_name</name>
                <type>VARCHAR(32)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>principal</name>
                <type>VARCHAR(255)</type>
                <isKey>true</isKey>
            </attribute>
        </insertion>
        <insertion type="NewTable">
            <table>
                <name>t_channel_vo_share</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>channel_name</name>
                <type>VARCHAR(32)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>channel_share</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>vo_name</name>
                <type>VARCHAR(50)</type>
                <isKey>true</isKey>
            </attribute>
        </insertion>
        <deletion type="UpdateTable">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>bytes_written</name>
                <type>BIGINT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>duration</name>
                <type>FLOAT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>file_params</name>
                <type>VARCHAR(255)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>num_retries</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>transfer_time</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
        <update type="KeyChange">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>job_id</name>
                <type>CHAR(36)</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <insertion type="UpdateTable">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>logical_name</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="UpdateTable">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>dest</name>
                <type>VARCHAR(250)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>priority</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>source</name>
                <type>VARCHAR(250)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>vo_name</name>
                <type>VARCHAR(50)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <deletion type="UpdateTable">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>dest_se</name>
                <type>VARCHAR(250)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>source_se</name>
                <type>VARCHAR(250)</type>
                <isKey>false</isKey>
            </attribute>
        </deletion>
        <insertion type="NewTable">
            <table>
                <name>t_trace</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>content</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>file_id</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>request_id</name>
                <type>VARCHAR(255)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>trace_id</name>
                <type>INTEGER</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>trace_timestamp</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
        <insertion type="NewTable">
            <table>
                <name>t_transfer</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>bytes_written</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>dest_turl</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>duration</name>
                <type>FLOAT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>file_id</name>
                <type>INTEGER</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>reason</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>reason_class</name>
                <type>VARCHAR(32)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>request_id</name>
                <type>VARCHAR(255)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>source_turl</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>transfer_id</name>
                <type>VARCHAR(255)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>transfer_state</name>
                <type>VARCHAR(29)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>transfer_time</name>
                <type>TIMESTAMP(0)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="rev_1.08.sql" newVersion="rev_1.09.sql">
        <update type="TypeChange">
            <table>
                <name>t_transfer</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>transfer_id</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
        </update>
    </transition>
    <transition oldVersion="rev_1.09.sql" newVersion="rev_1.10.sql">
        <insertion type="UpdateTable">
            <table>
                <name>t_file</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>num_failures</name>
                <type>INTEGER</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="rev_1.10.sql" newVersion="rev_1.11.sql">
        <update type="TypeChange">
            <table>
                <name>t_channel</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>last_active</name>
                <type>TIMESTAMP(0)</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <update type="TypeChange">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>submit_time</name>
                <type>TIMESTAMP(0)</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <update type="TypeChange">
            <table>
                <name>t_trace</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>trace_timestamp</name>
                <type>TIMESTAMP</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <update type="TypeChange">
            <table>
                <name>t_transfer</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>bytes_written</name>
                <type>BIGINT</type>
                <isKey>false</isKey>
            </attribute>
        </update>
    </transition>
    <transition oldVersion="rev_1.11.sql" newVersion="rev_1.12.sql">
        <update type="TypeChange">
            <table>
                <name>t_channel</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>last_active</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <update type="TypeChange">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>submit_time</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <update type="TypeChange">
            <table>
                <name>t_trace</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>trace_timestamp</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </update>
        <update type="TypeChange">
            <table>
                <name>t_transfer</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>transfer_time</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </update>
    </transition>
    <transition oldVersion="rev_1.12.sql" newVersion="rev_1.13.sql"/>
    <transition oldVersion="rev_1.13.sql" newVersion="rev_1.14.sql">
        <insertion type="UpdateTable">
            <table>
                <name>t_job</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>internal_job_params</name>
                <type>VARCHAR(255)</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="rev_1.14.sql" newVersion="rev_1.15.sql">
        <insertion type="NewTable">
            <table>
                <name>t_vo_acl</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>principal</name>
                <type>VARCHAR2(255)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>vo_name</name>
                <type>VARCHAR2(32)</type>
                <isKey>true</isKey>
            </attribute>
        </insertion>
    </transition>
    <transition oldVersion="rev_1.15.sql" newVersion="rev_1.16.sql">
        <update type="TypeChange">
            <table>
                <name>t_vo_acl</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>principal</name>
                <type>VARCHAR(255)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>vo_name</name>
                <type>VARCHAR(32)</type>
                <isKey>true</isKey>
            </attribute>
        </update>
    </transition>
    <transition oldVersion="rev_1.16.sql" newVersion="rev_1.17.sql">
        <insertion type="NewTable">
            <table>
                <name>t_agent</name>
                <primaryKey>
                    <mode>0</mode>
                </primaryKey>
                <foreignKey/>
            </table>
            <attribute>
                <name>agent_dn</name>
                <type>TEXT</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>agent_host</name>
                <type>VARCHAR(255)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>agent_name</name>
                <type>VARCHAR(255)</type>
                <isKey>true</isKey>
            </attribute>
            <attribute>
                <name>agent_state</name>
                <type>VARCHAR(16)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>agent_type</name>
                <type>VARCHAR(8)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>agent_version</name>
                <type>VARCHAR(16)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>contact</name>
                <type>VARCHAR(255)</type>
                <isKey>false</isKey>
            </attribute>
            <attribute>
                <name>last_active</name>
                <type>DATETIME</type>
                <isKey>false</isKey>
            </attribute>
        </insertion>
    </transition>
</transitions>
